@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --visa-blue: #003399;
  --visa-gold: #F7B600;
  --visa-blue-dark: #002266;
  --slate-bg: #f8fafc;
  --slate-border: #e2e8f0;
  --slate-muted: #64748b;
  --slate-ink: #0f172a;
}

* {
  box-sizing: border-box;
  font-family: var(--font-inter), system-ui, sans-serif;
}

html {
  -webkit-tap-highlight-color: transparent;
  overflow: hidden;
  height: 100%;
  height: 100dvh;
  min-height: 100vh;
  min-height: 100dvh;
}

body {
  @apply antialiased text-slate-trust-900 bg-slate-trust-50 font-sans;
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  overflow: hidden;
  min-height: 100vh;
  min-height: 100dvh;
  height: 100%;
  height: 100dvh;
}

/* Headers use Plus Jakarta Sans */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading), var(--font-inter), system-ui, sans-serif;
}

/* Prices and budget: JetBrains Mono for financial precision */
.font-price {
  font-family: var(--font-mono), ui-monospace, monospace;
}

/* Uppercase trust badges: letter-spacing */
.trust-badge {
  letter-spacing: 0.05em;
}

/* Safe area for notched devices */
@supports (padding: env(safe-area-inset-bottom)) {
  .pb-safe {
    padding-bottom: calc(1.25rem + env(safe-area-inset-bottom));
  }
}
.safe-area-padding {
  padding-left: env(safe-area-inset-left, 0);
  padding-right: env(safe-area-inset-right, 0);
}

/* Agentic accent – subtle gold left border for reasoning blocks */
.agent-reasoning {
  border-left: 3px solid var(--visa-gold);
  background: linear-gradient(90deg, rgba(247, 182, 0, 0.06) 0%, transparent 100%);
}

/* Premium card hover (touch-friendly) */
@media (hover: none) {
  .card-touch:active {
    transform: scale(0.99);
  }
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* GPU acceleration for drawer (reduces scroll lag) */
.drawer-gpu {
  will-change: transform;
  backface-visibility: hidden;
}

/* Custom scrollbar for drawer – light theme: Visa blue thumb; native touch scrolling */
.scrollbar-drawer {
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 51, 153, 0.35) transparent;
  -webkit-overflow-scrolling: touch;
}
.scrollbar-drawer::-webkit-scrollbar {
  width: 6px;
}
.scrollbar-drawer::-webkit-scrollbar-track {
  background: transparent;
}
.scrollbar-drawer::-webkit-scrollbar-thumb {
  background: rgba(0, 51, 153, 0.35);
  border-radius: 3px;
}
.scrollbar-drawer::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 51, 153, 0.5);
}

/* Dark theme: high-contrast light thumb on dark background */
.scrollbar-drawer-dark {
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 163, 184, 0.9) rgba(30, 41, 59, 0.5);
  -webkit-overflow-scrolling: touch;
}
.scrollbar-drawer-dark::-webkit-scrollbar {
  width: 8px;
}
.scrollbar-drawer-dark::-webkit-scrollbar-track {
  background: rgba(30, 41, 59, 0.5);
  border-radius: 4px;
}
.scrollbar-drawer-dark::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.9);
  border-radius: 4px;
}
.scrollbar-drawer-dark::-webkit-scrollbar-thumb:hover {
  background: rgb(203, 213, 225);
}

/* Card highlight pulse when scrolled to from map pin */
@keyframes card-pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(0, 51, 153, 0.4); }
  50% { box-shadow: 0 0 0 6px rgba(0, 51, 153, 0); }
}
.card-highlight-pulse {
  animation: card-pulse 1.2s ease-out 2;
}
